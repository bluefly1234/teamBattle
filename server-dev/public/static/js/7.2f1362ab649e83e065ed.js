webpackJsonp([7],{535:function(t,e,n){n(593);var a=n(205)(n(552),n(613),null,null);t.exports=a.exports},552:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(207),i=n.n(a),s=n(139),o=n.n(s),r=n(206);e.default={data:function(){return{quesData:{time:600},battle_time:{min:"00",sec:"00"},battle_progress:0,battle_progStatu:"success",battle_timer:null,battle_statu:!1,ques_list:[]}},computed:o()({},n.i(r.a)("student",["matching","otherChecks"])),mounted:function(){var t=this;this.$http("GET",!1,"./static/dataJson/vArithmetic.json",{},function(e){t.ques_list=e.list,t.battleStart()})},methods:{battleStart:function(){var t=this,e=this.quesData.time;this.battle_time=this.formatTime(e),this.battle_timer=setInterval(function(){e?(e--,t.battle_progress=100*(1-(e-1)/t.quesData.time),t.battle_time=t.formatTime(e),e/t.quesData.time>40&&e>10?t.battle_progStatu="":e<=10&&(t.battle_progStatu="exception")):(clearInterval(t.battle_timer),t.battleOver())},1e3)},formatTime:function(t){var e=parseInt(t%60),n=parseInt(t/60);return{min:n<10?"0"+n:n,sec:e<10?"0"+e:e}},battleOver:function(){this.battle_statu=!0},confirmAnswer:function(t,e){if(""!=e&&void 0!=e){var n=this,a=this.ques_list[t].answer===e;this.$set(this.ques_list[t],"confirm",!0),this.$set(this.ques_list[t],"check",a),websocket.send(i()({type:"result",data:{userId:n.$store.state.userInfo.id,index:t,check:a}}))}}}}},578:function(t,e,n){e=t.exports=n(531)(!1),e.push([t.i,"\n@charset \"UTF-8\";\nhtml {\n  background-color: #f4f4f4;\n}\n\n/* 对战面板 */\n.battle-panel {\n  border-radius: 5px;\n  border: 1px solid #ddd;\n  background-color: #fff;\n  max-width: 1200px;\n  margin: 20px auto 50px;\n}\n.battle-panel .battle-head {\n    position: relative;\n    line-height: 80px;\n    text-align: center;\n    font-size: 32px;\n    font-weight: bold;\n    color: #666;\n}\n.battle-panel .battle-head .el-progress {\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 1;\n}\n.battle-panel .battle-head .el-progress.noTransition .el-progress-bar__inner {\n        transition: none;\n}\n.battle-panel .battle-head .el-progress-bar__inner {\n      width: 0;\n      transition: width linear 1s;\n}\n.battle-panel .battle-head .el-progress-bar__outer, .battle-panel .battle-head .el-progress-bar__inner {\n      border-radius: 0;\n}\n.battle-panel .battle-content .el-col {\n    font-size: 18px;\n}\n.battle-panel .battle-content .el-col:first-child {\n      border-right: 1px solid #ddd;\n}\n.battle-panel .battle-box-head {\n    line-height: 44px;\n    border-bottom: 1px solid #f5f5f5;\n    background-color: #fafafa;\n    text-align: center;\n}\n\n/* 答题区域 */\n.battle-content-left .check-statu-icon {\n  position: absolute;\n  top: 50%;\n  right: 30px;\n  margin-top: -20px;\n}\n.battle-content-right .check-statu-icon {\n  line-height: 80px;\n}\n.answer-box {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  font-size: 24px;\n  text-align: center;\n}\n.answer-box .check-statu-icon {\n    font-size: 40px;\n    font-weight: bold;\n    z-index: 10;\n}\n.answer-box .ques-item {\n    position: relative;\n    margin: 0;\n    line-height: 80px;\n    height: 80px;\n    padding: 0 90px;\n    border-bottom: 1px solid #ddd;\n    transition: background-color linear .2s;\n}\n.answer-box .ques-item[disabled]:before {\n      content: '';\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      z-index: 100;\n}\n.answer-box .ques-item[aria-right='true'] {\n      background-color: #f0f9eb;\n}\n.answer-box .ques-item[aria-right='true'] .check-statu-icon {\n        color: #67c23a;\n}\n.answer-box .ques-item[aria-wrong='true'] {\n      background-color: #fef0f0;\n}\n.answer-box .ques-item[aria-wrong='true'] .check-statu-icon {\n        color: #f56c6c;\n}\n.answer-box .ques-item .el-input {\n      max-width: 360px;\n      margin: 0 auto;\n}\n.answer-box .ques-item .el-input.is-disabled .el-input__inner {\n        color: #333;\n}\n.answer-box .ques-item .el-input input {\n        font-size: 18px;\n}\n.answer-box .el-input-group__prepend {\n    width: 40%;\n    font-size: 24px;\n    background-color: transparent;\n    border: none;\n    text-align: right;\n    color: #333;\n}\n",""])},593:function(t,e,n){var a=n(578);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(532)("129bf7af",a,!0)},613:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"battle-panel"},[n("div",{staticClass:"battle-head"},[t.battle_statu?n("div",{staticClass:"over-title"},[t._v("对战结束")]):n("div",[t._v(t._s(t.battle_time.min)+" : "+t._s(t.battle_time.sec))]),t._v(" "),n("el-progress",{class:t.battle_progress>100?"noTransition":"",attrs:{"stroke-width":2,percentage:t.battle_progress>100?100:t.battle_progress,status:t.battle_progStatu,"show-text":!1}})],1),t._v(" "),n("el-row",{staticClass:"battle-content"},[n("el-col",{staticClass:"battle-content-left",attrs:{span:12}},[n("div",{staticClass:"battle-box-head"},[t._v("\n                    "+t._s(t.$store.state.userInfo.name)+"\n                ")]),t._v(" "),n("ul",{staticClass:"answer-box"},t._l(t.ques_list,function(e,a){return n("li",{key:e.id,staticClass:"ques-item",attrs:{"aria-right":e.check&&(e.confirm||t.battle_statu),"aria-wrong":!e.check&&(e.confirm||t.battle_statu)}},[n("el-input",{attrs:{placeholder:"请输入答案",disabled:e.confirm||t.battle_statu},nativeOn:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key))return null;t.confirmAnswer(a,e.fillin)}},model:{value:e.fillin,callback:function(n){t.$set(e,"fillin",n)},expression:"item.fillin"}},[n("template",{slot:"prepend"},[t._v(t._s(e.content))]),t._v(" "),e.confirm||t.battle_statu?t._e():n("el-button",{attrs:{slot:"append",icon:"el-icon-check"},on:{click:function(n){t.confirmAnswer(a,e.fillin)}},slot:"append"},[t._v("\n                                确认\n                            ")]),t._v(" "),t.battle_statu?n("template",{slot:"prepend"},[t._v(t._s(e.answer))]):t._e()],2),t._v(" "),e.check&&(e.confirm||t.battle_statu)?n("i",{staticClass:"check-statu-icon el-icon-check animated fadeInRight"}):t._e(),t._v(" "),e.check||!e.confirm&&!t.battle_statu?t._e():n("i",{staticClass:"check-statu-icon el-icon-close animated fadeInRight"})],1)}))]),t._v(" "),n("el-col",{staticClass:"battle-content-right",attrs:{span:12}},[n("div",{staticClass:"battle-box-head"},[t._v("\n                    "+t._s(t.matching[0].name)+"\n                ")]),t._v(" "),n("ul",{staticClass:"answer-box"},t._l(t.otherChecks,function(e){return n("li",{key:e.id,staticClass:"ques-item",attrs:{"aria-right":e.check&&(e.confirm||t.battle_statu),"aria-wrong":!e.check&&(e.confirm||t.battle_statu)}},[e.check&&(e.confirm||t.battle_statu)?n("i",{staticClass:"check-statu-icon el-icon-check animated fadeInRight"}):e.check||!e.confirm&&!t.battle_statu?n("div",{staticStyle:{"font-size":"16px",color:"#666"}},[t._v("待作答...")]):n("i",{staticClass:"check-statu-icon el-icon-close animated fadeInRight"})])}))])],1)],1)])},staticRenderFns:[]}}});