webpackJsonp([4],{561:function(t,e,n){function i(t){return n(a(t))}function a(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./components/questions/edit/arithmetic.vue":642,"./components/questions/play/arithmetic.vue":645};i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id=561},565:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(134),a=n.n(i),r=n(195);e.default={name:"battle_over",props:["battle_over","myScore"],data:function(){return{}},computed:a()({},n.i(r.a)("student",["otherScore"]),{battleResult:function(){return this.myScore===this.otherScore?"平局！":this.myScore>this.otherScore?"YOU WIN!":"YOU LOST!"}}),methods:a()({},n.i(r.c)(["backToHome"]))}},566:function(t,e,n){e=t.exports=n(550)(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},567:function(t,e,n){var i=n(566);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(551)("9092e174",i,!0)},568:function(t,e,n){n(567);var i=n(194)(n(565),n(569),"data-v-2de87492",null);t.exports=i.exports},569:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"对战结束",visible:t.battle_over,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,center:""},on:{"update:visible":function(e){t.battle_over=e}}},[n("h1",{staticClass:"text-center"},[t._v(t._s(t.battleResult))]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.backToHome("student")}}},[t._v("确 定")])],1)])},staticRenderFns:[]}},579:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},582:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(196),a=n.n(i),r=n(134),o=n.n(r),s=n(195),l=n(568),c=n.n(l);e.default={components:{battleOver:c.a},data:function(){return{bgBlur:"bgBlur",total_time:0,total_score:0,battle_time:{min:"00",sec:"00"},battle_progress:0,battle_progStatu:"success",battle_timer:null,battle_over:!1,ques_list:[]}},computed:o()({},n.i(s.a)("student",["matching","otherChecks"]),n.i(s.b)("student",["allReadyStart"])),watch:{allReadyStart:function(t){this.battleStart()}},mounted:function(){var t=this;this.$http("GET",!1,"./static/dataJson/vArithmetic.json",{},function(e){t.ques_list=e.list,t.total_time=e.total_time,websocket.send(a()({type:"battle_isReady"})),t.otherIsReady&&t.battleStart()})},methods:{battleStart:function(){var t=this;this.bgBlur="";var e=this.total_time;this.battle_time=this.formatTime(e),this.battle_timer=setInterval(function(){e?(e--,t.battle_progress=100*(1-(e-1)/t.total_time),t.battle_time=t.formatTime(e),e/t.total_time>40&&e>10?t.battle_progStatu="":e<=10&&(t.battle_progStatu="exception")):(clearInterval(t.battle_timer),t.battleOver())},1e3)},formatTime:function(t){var e=parseInt(t%60),n=parseInt(t/60);return{min:n<10?"0"+n:n,sec:e<10?"0"+e:e}},battleOver:function(){this.battle_over=!0,this.bgBlur="bgBlur"},confirmAnswer:function(t,e){if(""!=e&&void 0!=e){var n=this,i=this.ques_list[t].answer===e;this.$set(this.ques_list[t],"confirm",!0),this.$set(this.ques_list[t],"check",i),this.total_score+=i?this.ques_list[t].score:0,websocket.send(a()({type:"result",data:{userId:n.$store.state.userInfo.id,index:t,check:i,total_score:n.total_score}}))}}}}},615:function(t,e,n){e=t.exports=n(550)(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n",""])},617:function(t,e,n){e=t.exports=n(550)(!1),e.push([t.i,"\n@charset \"UTF-8\";\nhtml {\n  background-color: #f4f4f4;\n}\n\n/* 对战面板 */\n.battle-panel.vArithmetic {\n  border-radius: 5px;\n  border: 1px solid #ddd;\n  background-color: #fff;\n  max-width: 1200px;\n  margin: 20px auto 50px;\n  transition: filter .3s;\n  /* 答题区域 */\n}\n.battle-panel.vArithmetic.bgBlur {\n    filter: blur(10px);\n}\n.battle-panel.vArithmetic .battle-head {\n    position: relative;\n    line-height: 80px;\n    text-align: center;\n    font-size: 32px;\n    font-weight: bold;\n    color: #666;\n}\n.battle-panel.vArithmetic .battle-head .el-progress {\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 1;\n}\n.battle-panel.vArithmetic .battle-head .el-progress.noTransition .el-progress-bar__inner {\n        transition: none;\n}\n.battle-panel.vArithmetic .battle-head .el-progress-bar__inner {\n      width: 0;\n      transition: width linear 1s;\n}\n.battle-panel.vArithmetic .battle-head .el-progress-bar__outer, .battle-panel.vArithmetic .battle-head .el-progress-bar__inner {\n      border-radius: 0;\n}\n.battle-panel.vArithmetic .battle-content .el-col {\n    font-size: 18px;\n}\n.battle-panel.vArithmetic .battle-content .el-col:first-child {\n      border-right: 1px solid #ddd;\n}\n.battle-panel.vArithmetic .battle-box-head {\n    line-height: 44px;\n    border-bottom: 1px solid #f5f5f5;\n    background-color: #fafafa;\n    text-align: center;\n}\n.battle-panel.vArithmetic .battle-content-left .check-statu-icon {\n    position: absolute;\n    top: 50%;\n    right: 30px;\n    margin-top: -20px;\n}\n.battle-panel.vArithmetic .battle-content-right .check-statu-icon {\n    line-height: 80px;\n}\n.battle-panel.vArithmetic .answer-box {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    font-size: 24px;\n    text-align: center;\n}\n.battle-panel.vArithmetic .answer-box .check-statu-icon {\n      font-size: 40px;\n      font-weight: bold;\n      z-index: 10;\n}\n.battle-panel.vArithmetic .answer-box .ques-item {\n      position: relative;\n      margin: 0;\n      line-height: 80px;\n      height: 80px;\n      padding: 0 90px;\n      border-bottom: 1px solid #ddd;\n      transition: background-color linear .2s;\n}\n.battle-panel.vArithmetic .answer-box .ques-item[disabled]:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 100;\n}\n.battle-panel.vArithmetic .answer-box .ques-item[aria-right='true'] {\n        background-color: #f0f9eb;\n}\n.battle-panel.vArithmetic .answer-box .ques-item[aria-right='true'] .check-statu-icon {\n          color: #67c23a;\n}\n.battle-panel.vArithmetic .answer-box .ques-item[aria-wrong='true'] {\n        background-color: #fef0f0;\n}\n.battle-panel.vArithmetic .answer-box .ques-item[aria-wrong='true'] .check-statu-icon {\n          color: #f56c6c;\n}\n.battle-panel.vArithmetic .answer-box .ques-item .el-input {\n        max-width: 360px;\n        margin: 0 auto;\n}\n.battle-panel.vArithmetic .answer-box .ques-item .el-input.is-disabled .el-input__inner {\n          color: #333;\n}\n.battle-panel.vArithmetic .answer-box .ques-item .el-input input {\n          font-size: 18px;\n}\n.battle-panel.vArithmetic .answer-box .el-input-group__prepend {\n      width: 40%;\n      font-size: 24px;\n      background-color: transparent;\n      border: none;\n      text-align: right;\n      color: #333;\n}\n",""])},637:function(t,e,n){var i=n(615);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(551)("33a1af29",i,!0)},639:function(t,e,n){var i=n(617);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(551)("5d3caa02",i,!0)},642:function(t,e,n){n(637);var i=n(194)(n(579),n(670),"data-v-aa68bc80",null);t.exports=i.exports},645:function(t,e,n){n(639);var i=n(194)(n(582),n(672),null,null);t.exports=i.exports},670:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},672:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"text-center"},[t._v("算术题")]),t._v(" "),n("div",{staticClass:"battle-panel vArithmetic",class:t.bgBlur},[n("div",{staticClass:"battle-head"},[t.battle_over?n("div",{staticClass:"over-title"},[t._v("对战结束")]):n("div",[t._v(t._s(t.battle_time.min)+" : "+t._s(t.battle_time.sec))]),t._v(" "),n("el-progress",{class:t.battle_progress>100?"noTransition":"",attrs:{"stroke-width":2,percentage:t.battle_progress>100?100:t.battle_progress,status:t.battle_progStatu,"show-text":!1}})],1),t._v(" "),n("el-row",{staticClass:"battle-content"},[n("el-col",{staticClass:"battle-content-left",attrs:{span:12}},[n("div",{staticClass:"battle-box-head"},[t._v("\n                    "+t._s(t.$store.state.userInfo.name)+"\n                ")]),t._v(" "),n("ul",{staticClass:"answer-box"},t._l(t.ques_list,function(e,i){return n("li",{key:e.id,staticClass:"ques-item",attrs:{"aria-right":e.check&&(e.confirm||t.battle_over),"aria-wrong":!e.check&&(e.confirm||t.battle_over)}},[n("el-input",{attrs:{placeholder:"请输入答案",disabled:e.confirm||t.battle_over},nativeOn:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key))return null;t.confirmAnswer(i,e.fillin)}},model:{value:e.fillin,callback:function(n){t.$set(e,"fillin",n)},expression:"item.fillin"}},[n("template",{slot:"prepend"},[t._v(t._s(e.content))]),t._v(" "),e.confirm||t.battle_over?t._e():n("el-button",{attrs:{slot:"append",icon:"el-icon-check"},on:{click:function(n){t.confirmAnswer(i,e.fillin)}},slot:"append"},[t._v("\n                                确认\n                            ")]),t._v(" "),t.battle_over?n("template",{slot:"prepend"},[t._v(t._s(e.answer))]):t._e()],2),t._v(" "),e.check&&(e.confirm||t.battle_over)?n("i",{staticClass:"check-statu-icon el-icon-check animated fadeInRight"}):t._e(),t._v(" "),e.check||!e.confirm&&!t.battle_over?t._e():n("i",{staticClass:"check-statu-icon el-icon-close animated fadeInRight"})],1)}))]),t._v(" "),n("el-col",{staticClass:"battle-content-right",attrs:{span:12}},[n("div",{staticClass:"battle-box-head"},[t._v("\n                    "+t._s(t.matching[0].name)+"\n                ")]),t._v(" "),n("ul",{staticClass:"answer-box"},t._l(t.otherChecks,function(e){return n("li",{key:e.id,staticClass:"ques-item",attrs:{"aria-right":e.check&&(e.confirm||t.battle_over),"aria-wrong":!e.check&&(e.confirm||t.battle_over)}},[e.check&&(e.confirm||t.battle_over)?n("i",{staticClass:"check-statu-icon el-icon-check animated fadeInRight"}):e.check||!e.confirm&&!t.battle_over?n("div",{staticStyle:{"font-size":"16px",color:"#666"}},[t._v("待作答...")]):n("i",{staticClass:"check-statu-icon el-icon-close animated fadeInRight"})])}))])],1)],1),t._v(" "),n("battle-over",{attrs:{battle_over:t.battle_over,myScore:t.total_score}})],1)},staticRenderFns:[]}}});